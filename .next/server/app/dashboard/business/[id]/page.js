(()=>{var e={};e.id=758,e.ids=[758],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},932:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(601),s(4403),s(996);var r=s(170),a=s(5002),i=s(3876),n=s.n(i),l=s(6299),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["dashboard",{children:["business",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,601)),"/workspaces/ratesmart/app/dashboard/business/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.t.bind(s,8075,23)),"/workspaces/ratesmart/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4403)),"/workspaces/ratesmart/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,8199)),"/workspaces/ratesmart/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,996,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/ratesmart/app/dashboard/business/[id]/page.tsx"],u="/dashboard/business/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/business/[id]/page",pathname:"/dashboard/business/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1719:(e,t,s)=>{Promise.resolve().then(s.bind(s,3580)),Promise.resolve().then(s.bind(s,460)),Promise.resolve().then(s.bind(s,9598)),Promise.resolve().then(s.bind(s,8718)),Promise.resolve().then(s.t.bind(s,4080,23))},1814:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3642,23)),Promise.resolve().then(s.t.bind(s,7586,23)),Promise.resolve().then(s.t.bind(s,7838,23)),Promise.resolve().then(s.t.bind(s,8057,23)),Promise.resolve().then(s.t.bind(s,7741,23)),Promise.resolve().then(s.t.bind(s,3118,23))},8762:()=>{},5303:()=>{},3580:(e,t,s)=>{"use strict";s.d(t,{BusinessReviews:()=>v});var r=s(7247),a=s(8964);s(5014);var i=s(7757),n=s(1365),l=s(4049),d=s(8812),o=s(4022),c=s(651),u=s(526),x=s(4974),m=s(820);function v({businessId:e,reviews:t}){let[s,v]=(0,a.useState)(t),[h,p]=(0,a.useState)("all"),[g,f]=(0,a.useState)(!1),b=e=>e?e>.1?r.jsx(o.Z,{className:"h-4 w-4 text-green-500"}):e<-.1?r.jsx(c.Z,{className:"h-4 w-4 text-red-500"}):r.jsx(d.Z,{className:"h-4 w-4 text-gray-400"}):r.jsx(d.Z,{className:"h-4 w-4 text-gray-400"}),j=e=>e?e>.1?"Positive":e<-.1?"Negative":"Neutral":"Neutral",y=e=>e?e>.1?"bg-green-100 text-green-800":e<-.1?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800":"bg-gray-100 text-gray-800";return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),(0,r.jsxs)(l.Ph,{value:h,onValueChange:p,children:[r.jsx(l.i4,{className:"w-48",children:r.jsx(l.ki,{placeholder:"Filter reviews"})}),(0,r.jsxs)(l.Bw,{children:[r.jsx(l.Ql,{value:"all",children:"All Reviews"}),r.jsx(l.Ql,{value:"approved",children:"Approved"}),r.jsx(l.Ql,{value:"pending",children:"Pending"}),r.jsx(l.Ql,{value:"fake",children:"Flagged as Fake"})]})]})]}),g?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"text-gray-500",children:"Loading reviews..."})}):0===s.length?r.jsx(i.Zb,{className:"text-center py-12",children:(0,r.jsxs)(i.aY,{children:[r.jsx(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx(i.ll,{className:"text-xl mb-2",children:"No Reviews Found"}),r.jsx(i.SZ,{children:"all"===h?"No reviews have been submitted yet.":`No ${h} reviews found.`})]})}):r.jsx("div",{className:"space-y-4",children:s.map(e=>(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(i.ll,{className:"text-lg",children:e.title}),r.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(t=>r.jsx(x.Z,{className:`h-4 w-4 ${t<=e.rating?"text-yellow-400 fill-current":"text-gray-300"}`},t))}),r.jsx(n.C,{variant:"outline",className:y(e.sentiment_score),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[b(e.sentiment_score),r.jsx("span",{className:"text-xs",children:j(e.sentiment_score)})]})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[(0,r.jsxs)("span",{children:["By ",e.reviewer_name]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(m.Z,{className:"h-4 w-4"}),r.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]}),!e.is_approved&&r.jsx(n.C,{variant:"outline",children:"Pending"}),e.is_fake&&r.jsx(n.C,{variant:"destructive",children:"Flagged"})]})]})})}),(0,r.jsxs)(i.aY,{children:[r.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:e.content}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["Contact: ",e.reviewer_email]}),(0,r.jsxs)("span",{children:["Sentiment: ",e.sentiment_score?.toFixed(2)||"N/A"]})]})]})]},e.id))})]})}},460:(e,t,s)=>{"use strict";s.d(t,{BusinessSettings:()=>v});var r=s(7247),a=s(8964),i=s(2767),n=s(7757),l=s(6991),d=s(4538),o=s(4494),c=s(4049),u=s(5014),x=s(4178);let m=["Restaurant","Retail","Healthcare","Beauty & Spa","Automotive","Professional Services","Home Services","Entertainment","Education","Technology","Other"];function v({business:e}){let[t,s]=(0,a.useState)({name:e.name,description:e.description||"",category:e.category,address:e.address,phone:e.phone||"",email:e.email||"",website:e.website||""}),[v,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(null),[f,b]=(0,a.useState)(!1),j=(0,x.useRouter)(),y=async s=>{s.preventDefault(),h(!0),g(null),b(!1);try{let s=(0,u.e)(),{error:r}=await s.from("businesses").update(t).eq("id",e.id);if(r)throw r;b(!0),j.refresh()}catch(e){g(e instanceof Error?e.message:"An error occurred")}finally{h(!1)}},w=(e,t)=>{s(s=>({...s,[e]:t}))};return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Business Settings"}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Business Information"}),r.jsx(n.SZ,{children:"Update your business details and contact information"})]}),r.jsx(n.aY,{children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"name",children:"Business Name *"}),r.jsx(l.I,{id:"name",required:!0,value:t.name,onChange:e=>w("name",e.target.value),placeholder:"Your Business Name"})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"category",children:"Category *"}),(0,r.jsxs)(c.Ph,{value:t.category,onValueChange:e=>w("category",e),children:[r.jsx(c.i4,{children:r.jsx(c.ki,{placeholder:"Select a category"})}),r.jsx(c.Bw,{children:m.map(e=>r.jsx(c.Ql,{value:e,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"description",children:"Description"}),r.jsx(o.g,{id:"description",value:t.description,onChange:e=>w("description",e.target.value),placeholder:"Describe your business...",rows:3})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"address",children:"Address *"}),r.jsx(l.I,{id:"address",required:!0,value:t.address,onChange:e=>w("address",e.target.value),placeholder:"123 Main St, City, State 12345"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"phone",children:"Phone"}),r.jsx(l.I,{id:"phone",type:"tel",value:t.phone,onChange:e=>w("phone",e.target.value),placeholder:"(555) 123-4567"})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"email",children:"Business Email"}),r.jsx(l.I,{id:"email",type:"email",value:t.email,onChange:e=>w("email",e.target.value),placeholder:"contact@business.com"})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(d._,{htmlFor:"website",children:"Website"}),r.jsx(l.I,{id:"website",type:"url",value:t.website,onChange:e=>w("website",e.target.value),placeholder:"https://www.yourbusiness.com"})]}),p&&r.jsx("p",{className:"text-sm text-red-500",children:p}),f&&r.jsx("p",{className:"text-sm text-green-500",children:"Business information updated successfully!"}),r.jsx(i.z,{type:"submit",disabled:v,children:v?"Updating...":"Update Business"})]})})]})]})}},9598:(e,t,s)=>{"use strict";s.d(t,{BusinessStats:()=>u});var r=s(7247),a=s(8964);s(5014);var i=s(7757),n=s(4974),l=s(526),d=s(5921),o=s(4022),c=s(651);function u({businessId:e,stats:t}){let[s,u]=(0,a.useState)({}),[x,m]=(0,a.useState)({positive:0,neutral:0,negative:0}),v=t?.total_reviews||0;return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Business Analytics"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center space-x-2",children:[r.jsx(n.Z,{className:"h-5 w-5 text-yellow-400"}),r.jsx("span",{children:"Overall Rating"})]})}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-blue-600",children:t?.average_rating||"N/A"}),r.jsx("div",{className:"flex items-center justify-center space-x-1 mt-2",children:[1,2,3,4,5].map(e=>r.jsx(n.Z,{className:`h-5 w-5 ${e<=Math.round(t?.average_rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},e))}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Based on ",v," reviews"]})]})})]}),(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center space-x-2",children:[r.jsx(l.Z,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Total Reviews"})]})}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-blue-600",children:v}),r.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Customer reviews"})]})})]}),(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:(0,r.jsxs)(i.ll,{className:"flex items-center space-x-2",children:[r.jsx(d.Z,{className:"h-5 w-5 text-red-600"}),r.jsx("span",{children:"Fake Reviews"})]})}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-red-600",children:t?.total_fake_reviews||0}),r.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"AI-detected fake reviews"})]})})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Rating Distribution"}),r.jsx(i.SZ,{children:"How customers rate your business"})]}),r.jsx(i.aY,{children:r.jsx("div",{className:"space-y-3",children:[5,4,3,2,1].map(e=>{let t=s[e]||0,a=v>0?t/v*100:0;return(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1 w-16",children:[r.jsx("span",{className:"text-sm font-medium",children:e}),r.jsx(n.Z,{className:"h-4 w-4 text-yellow-400 fill-current"})]}),r.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${a}%`}})}),r.jsx("div",{className:"text-sm text-gray-600 w-12 text-right",children:t})]},e)})})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[r.jsx(i.ll,{children:"Sentiment Analysis"}),r.jsx(i.SZ,{children:"AI-powered sentiment breakdown of reviews"})]}),r.jsx(i.aY,{children:(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx(o.Z,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.positive}),r.jsx("div",{className:"text-sm text-gray-600",children:"Positive Reviews"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"h-8 w-8 bg-gray-400 rounded-full mx-auto mb-2 flex items-center justify-center",children:r.jsx("div",{className:"w-4 h-0.5 bg-white"})}),r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:x.neutral}),r.jsx("div",{className:"text-sm text-gray-600",children:"Neutral Reviews"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[r.jsx(c.Z,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.negative}),r.jsx("div",{className:"text-sm text-gray-600",children:"Negative Reviews"})]})]})})]})]})}},1365:(e,t,s)=>{"use strict";s.d(t,{C:()=>d});var r=s(7247);s(8964);var a=s(9008),i=s(7972),n=s(5008);let l=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,asChild:s=!1,...i}){let d=s?a.g7:"span";return r.jsx(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:t}),e),...i})}},2767:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var r=s(7247);s(8964);var a=s(9008),i=s(7972),n=s(5008);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:s,asChild:i=!1,...d}){let o=i?a.g7:"button";return r.jsx(o,{"data-slot":"button",className:(0,n.cn)(l({variant:t,size:s,className:e})),...d})}},7757:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>l});var r=s(7247);s(8964);var a=s(5008);function i({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function n({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function l({className:e,...t}){return r.jsx("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function d({className:e,...t}){return r.jsx("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function o({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}},6991:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(7247);s(8964);var a=s(5008);function i({className:e,type:t,...s}){return r.jsx("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}},4538:(e,t,s)=>{"use strict";s.d(t,{_:()=>d});var r=s(7247),a=s(8964),i=s(2251),n=a.forwardRef((e,t)=>(0,r.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=s(5008);function d({className:e,...t}){return r.jsx(n,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},4049:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>x,Ph:()=>o,Ql:()=>m,i4:()=>u,ki:()=>c});var r=s(7247);s(8964);var a=s(9561),i=s(2513),n=s(8799),l=s(5370),d=s(5008);function o({...e}){return r.jsx(a.fC,{"data-slot":"select",...e})}function c({...e}){return r.jsx(a.B4,{"data-slot":"select-value",...e})}function u({className:e,size:t="default",children:s,...n}){return(0,r.jsxs)(a.xz,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[s,r.jsx(a.JO,{asChild:!0,children:r.jsx(i.Z,{className:"size-4 opacity-50"})})]})}function x({className:e,children:t,position:s="popper",...i}){return r.jsx(a.h_,{children:(0,r.jsxs)(a.VY,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[r.jsx(v,{}),r.jsx(a.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),r.jsx(h,{})]})})}function m({className:e,children:t,...s}){return(0,r.jsxs)(a.ck,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(a.wU,{children:r.jsx(n.Z,{className:"size-4"})})}),r.jsx(a.eT,{children:t})]})}function v({className:e,...t}){return r.jsx(a.u_,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(l.Z,{className:"size-4"})})}function h({className:e,...t}){return r.jsx(a.$G,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(i.Z,{className:"size-4"})})}},8718:(e,t,s)=>{"use strict";s.d(t,{Tabs:()=>G,TabsContent:()=>X,TabsList:()=>H,TabsTrigger:()=>Q});var r=s(7247),a=s(8964),i=s(319),n=s(732),l=s(3714),d=s(3191),o=s(7015),c=s(2251),u=s(5090),x=s(8469),m=s(1310),v="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[g,f,b]=(0,l.B)(p),[j,y]=(0,n.b)(p,[b]),[w,N]=j(p),k=a.forwardRef((e,t)=>(0,r.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(_,{...e,ref:t})})}));k.displayName=p;var _=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,orientation:n,loop:l=!1,dir:o,currentTabStopId:p,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:j,preventScrollOnEntryFocus:y=!1,...N}=e,k=a.useRef(null),_=(0,d.e)(t,k),Z=(0,m.gm)(o),[P=null,S]=(0,x.T)({prop:p,defaultProp:g,onChange:b}),[M,T]=a.useState(!1),C=(0,u.W)(j),R=f(s),z=a.useRef(!1),[I,E]=a.useState(0);return a.useEffect(()=>{let e=k.current;if(e)return e.addEventListener(v,C),()=>e.removeEventListener(v,C)},[C]),(0,r.jsx)(w,{scope:s,orientation:n,dir:Z,loop:l,currentTabStopId:P,onItemFocus:a.useCallback(e=>S(e),[S]),onItemShiftTab:a.useCallback(()=>T(!0),[]),onFocusableItemAdd:a.useCallback(()=>E(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>E(e=>e-1),[]),children:(0,r.jsx)(c.WV.div,{tabIndex:M||0===I?-1:0,"data-orientation":n,...N,ref:_,style:{outline:"none",...e.style},onMouseDown:(0,i.M)(e.onMouseDown,()=>{z.current=!0}),onFocus:(0,i.M)(e.onFocus,e=>{let t=!z.current;if(e.target===e.currentTarget&&t&&!M){let t=new CustomEvent(v,h);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=R().filter(e=>e.focusable);A([e.find(e=>e.active),e.find(e=>e.id===P),...e].filter(Boolean).map(e=>e.ref.current),y)}}z.current=!1}),onBlur:(0,i.M)(e.onBlur,()=>T(!1))})})}),Z="RovingFocusGroupItem",P=a.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,focusable:n=!0,active:l=!1,tabStopId:d,...u}=e,x=(0,o.M)(),m=d||x,v=N(Z,s),h=v.currentTabStopId===m,p=f(s),{onFocusableItemAdd:b,onFocusableItemRemove:j}=v;return a.useEffect(()=>{if(n)return b(),()=>j()},[n,b,j]),(0,r.jsx)(g.ItemSlot,{scope:s,id:m,focusable:n,active:l,children:(0,r.jsx)(c.WV.span,{tabIndex:h?0:-1,"data-orientation":v.orientation,...u,ref:t,onMouseDown:(0,i.M)(e.onMouseDown,e=>{n?v.onItemFocus(m):e.preventDefault()}),onFocus:(0,i.M)(e.onFocus,()=>v.onItemFocus(m)),onKeyDown:(0,i.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){v.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,s){var r;let a=(r=e.key,"rtl"!==s?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return S[a]}(e,v.orientation,v.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();let r=s.indexOf(e.currentTarget);s=v.loop?function(e,t){return e.map((s,r)=>e[(t+r)%e.length])}(s,r+1):s.slice(r+1)}setTimeout(()=>A(s))}})})})});P.displayName=Z;var S={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(e,t=!1){let s=document.activeElement;for(let r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}var M=s(9537),T=e=>{let{present:t,children:s}=e,r=function(e){var t,s;let[r,i]=a.useState(),n=a.useRef({}),l=a.useRef(e),d=a.useRef("none"),[o,c]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>s[e][t]??e,t));return a.useEffect(()=>{let e=C(n.current);d.current="mounted"===o?e:"none"},[o]),(0,M.b)(()=>{let t=n.current,s=l.current;if(s!==e){let r=d.current,a=C(t);e?c("MOUNT"):"none"===a||t?.display==="none"?c("UNMOUNT"):s&&r!==a?c("ANIMATION_OUT"):c("UNMOUNT"),l.current=e}},[e,c]),(0,M.b)(()=>{if(r){let e;let t=r.ownerDocument.defaultView??window,s=s=>{let a=C(n.current).includes(s.animationName);if(s.target===r&&a&&(c("ANIMATION_END"),!l.current)){let s=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=s)})}},a=e=>{e.target===r&&(d.current=C(n.current))};return r.addEventListener("animationstart",a),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",a),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:a.useCallback(e=>{e&&(n.current=getComputedStyle(e)),i(e)},[])}}(t),i="function"==typeof s?s({present:r.isPresent}):a.Children.only(s),n=(0,d.e)(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(s=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof s||r.isPresent?a.cloneElement(i,{ref:n}):null};function C(e){return e?.animationName||"none"}T.displayName="Presence";var R="Tabs",[z,I]=(0,n.b)(R,[y]),E=y(),[F,D]=z(R),B=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:a,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:d,activationMode:u="automatic",...v}=e,h=(0,m.gm)(d),[p,g]=(0,x.T)({prop:a,onChange:i,defaultProp:n});return(0,r.jsx)(F,{scope:s,baseId:(0,o.M)(),value:p,onValueChange:g,orientation:l,dir:h,activationMode:u,children:(0,r.jsx)(c.WV.div,{dir:h,"data-orientation":l,...v,ref:t})})});B.displayName=R;var O="TabsList",U=a.forwardRef((e,t)=>{let{__scopeTabs:s,loop:a=!0,...i}=e,n=D(O,s),l=E(s);return(0,r.jsx)(k,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:a,children:(0,r.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:t})})});U.displayName=O;var L="TabsTrigger",V=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:a,disabled:n=!1,...l}=e,d=D(L,s),o=E(s),u=Y(d.baseId,a),x=K(d.baseId,a),m=a===d.value;return(0,r.jsx)(P,{asChild:!0,...o,focusable:!n,active:m,children:(0,r.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":x,"data-state":m?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...l,ref:t,onMouseDown:(0,i.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(a)}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(a)}),onFocus:(0,i.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;m||n||!e||d.onValueChange(a)})})})});V.displayName=L;var q="TabsContent",W=a.forwardRef((e,t)=>{let{__scopeTabs:s,value:i,forceMount:n,children:l,...d}=e,o=D(q,s),u=Y(o.baseId,i),x=K(o.baseId,i),m=i===o.value,v=a.useRef(m);return a.useEffect(()=>{let e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(T,{present:n||m,children:({present:s})=>(0,r.jsx)(c.WV.div,{"data-state":m?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:x,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:s&&l})})});function Y(e,t){return`${e}-trigger-${t}`}function K(e,t){return`${e}-content-${t}`}W.displayName=q;var $=s(5008);function G({className:e,...t}){return r.jsx(B,{"data-slot":"tabs",className:(0,$.cn)("flex flex-col gap-2",e),...t})}function H({className:e,...t}){return r.jsx(U,{"data-slot":"tabs-list",className:(0,$.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Q({className:e,...t}){return r.jsx(V,{"data-slot":"tabs-trigger",className:(0,$.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function X({className:e,...t}){return r.jsx(W,{"data-slot":"tabs-content",className:(0,$.cn)("flex-1 outline-none",e),...t})}},4494:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var r=s(7247);s(8964);var a=s(5008);function i({className:e,...t}){return r.jsx("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}},5014:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(313);function a(){return(0,r.createBrowserClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},5008:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(1929),a=s(5770);function i(...e){return(0,a.m6)((0,r.W)(e))}},820:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},526:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},8812:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},651:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},4022:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},5921:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6323).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},601:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var r=s(2051),a=s(6660),i=s(1288),n=s(6669),l=s(8300),d=s(353),o=s(5347);let c=(0,o.createProxy)(String.raw`/workspaces/ratesmart/components/ui/tabs.tsx#Tabs`),u=(0,o.createProxy)(String.raw`/workspaces/ratesmart/components/ui/tabs.tsx#TabsList`),x=(0,o.createProxy)(String.raw`/workspaces/ratesmart/components/ui/tabs.tsx#TabsTrigger`),m=(0,o.createProxy)(String.raw`/workspaces/ratesmart/components/ui/tabs.tsx#TabsContent`);var v=s(8765),h=s(4663),p=s(6610),g=s(2522),f=s(1755),b=s(8406);let j=(0,s(6449).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var y=s(8201),w=s(8824),N=s(2349);let k=(0,o.createProxy)(String.raw`/workspaces/ratesmart/components/business/business-reviews.tsx#BusinessReviews`),_=(0,o.createProxy)(String.raw`/workspaces/ratesmart/components/business/business-stats.tsx#BusinessStats`),Z=(0,o.createProxy)(String.raw`/workspaces/ratesmart/components/business/business-settings.tsx#BusinessSettings`);async function P({params:e}){let t=await (0,a.e)(),{data:s,error:o}=await t.auth.getUser();(o||!s?.user)&&(0,i.redirect)("/auth/login");let{data:P,error:S}=await t.from("businesses").select(`
      *,
      business_stats (
        total_reviews,
        average_rating,
        total_fake_reviews,
        last_updated
      )
    `).eq("id",e.id).eq("owner_id",s.user.id).single();(S||!P)&&(0,i.notFound)();let{data:A}=await t.from("reviews").select("*").eq("business_id",e.id).order("created_at",{ascending:!1}).limit(5),M=P.business_stats?.[0];return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white border-b",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center space-x-4",children:[r.jsx(N.default,{href:"/dashboard",children:(0,r.jsxs)(l.z,{variant:"ghost",size:"sm",children:[r.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(h.Z,{className:"h-6 w-6 text-blue-600"}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:P.name})]})]})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8 mb-8",children:[r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx(n.ll,{className:"text-2xl mb-2",children:P.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(d.C,{variant:"secondary",children:P.category}),P.is_verified?r.jsx(d.C,{className:"bg-green-100 text-green-800",children:"Verified"}):r.jsx(d.C,{variant:"outline",children:"Pending Verification"}),!P.is_active&&r.jsx(d.C,{variant:"destructive",children:"Inactive"})]}),M&&r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(h.Z,{className:"h-5 w-5 text-yellow-400 fill-current"}),r.jsx("span",{className:"font-semibold text-lg",children:M.average_rating}),(0,r.jsxs)("span",{className:"text-gray-600",children:["(",M.total_reviews," reviews)"]})]})})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsx(N.default,{href:`/business/${P.id}`,children:r.jsx(l.z,{variant:"outline",size:"sm",children:"View Public"})})})]}),P.description&&r.jsx(n.SZ,{className:"text-base mt-4",children:P.description})]}),r.jsx(n.aY,{children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(p.Z,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{children:P.address})]}),P.phone&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(g.Z,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{children:P.phone})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[P.email&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(f.Z,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{children:P.email})]}),P.website&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(b.Z,{className:"h-4 w-4 text-gray-400"}),r.jsx("a",{href:P.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]})]})]})})]})}),r.jsx("div",{className:"space-y-4",children:(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{className:"pb-3",children:r.jsx(n.ll,{className:"text-lg",children:"Quick Stats"})}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(j,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm",children:"Total Reviews"})]}),r.jsx("span",{className:"font-semibold",children:M?.total_reviews||0})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(h.Z,{className:"h-4 w-4 text-yellow-400"}),r.jsx("span",{className:"text-sm",children:"Average Rating"})]}),r.jsx("span",{className:"font-semibold",children:M?.average_rating||"N/A"})]}),M?.total_fake_reviews>0&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(y.Z,{className:"h-4 w-4 text-red-600"}),r.jsx("span",{className:"text-sm",children:"Fake Reviews"})]}),r.jsx("span",{className:"font-semibold text-red-600",children:M.total_fake_reviews})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(w.Z,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm",children:"Last Updated"})]}),r.jsx("span",{className:"text-xs text-gray-600",children:M?.last_updated?new Date(M.last_updated).toLocaleDateString():"Never"})]})]})]})})]}),(0,r.jsxs)(c,{defaultValue:"reviews",className:"space-y-6",children:[(0,r.jsxs)(u,{children:[r.jsx(x,{value:"reviews",children:"Reviews"}),r.jsx(x,{value:"analytics",children:"Analytics"}),r.jsx(x,{value:"settings",children:"Settings"})]}),r.jsx(m,{value:"reviews",children:r.jsx(k,{businessId:P.id,reviews:A||[]})}),r.jsx(m,{value:"analytics",children:r.jsx(_,{businessId:P.id,stats:M})}),r.jsx(m,{value:"settings",children:r.jsx(Z,{business:P})})]})]})]})}},8075:()=>{},4403:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>o});var r=s(2051),a=s(1563),i=s.n(a),n=s(761),l=s.n(n),d=s(6269);s(7272);let o={title:"RateSmart - Business Review Platform",description:"Discover and review local businesses with AI-powered insights",generator:"v0.app"};function c({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`font-sans ${i().variable} ${l().variable}`,children:r.jsx(d.Suspense,{fallback:null,children:e})})})}},8199:(e,t,s)=>{"use strict";function r(){return null}s.r(t),s.d(t,{default:()=>r})},353:(e,t,s)=>{"use strict";s.d(t,{C:()=>d});var r=s(2051);s(6269);var a=s(6734),i=s(9666),n=s(7170);let l=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,asChild:s=!1,...i}){let d=s?a.g7:"span";return r.jsx(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:t}),e),...i})}},8300:(e,t,s)=>{"use strict";s.d(t,{z:()=>d});var r=s(2051);s(6269);var a=s(6734),i=s(9666),n=s(7170);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:t,size:s,asChild:i=!1,...d}){let o=i?a.g7:"button";return r.jsx(o,{"data-slot":"button",className:(0,n.cn)(l({variant:t,size:s,className:e})),...d})}},6669:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>l});var r=s(2051);s(6269);var a=s(7170);function i({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function n({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function l({className:e,...t}){return r.jsx("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function d({className:e,...t}){return r.jsx("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function o({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}},6660:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var r=s(9608),a=s(2845);async function i(){let e=await (0,a.cookies)();return(0,r.createServerClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:s,options:r})=>e.set(t,s,r))}catch{}}}})}},7170:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(6272),a=s(1472);function i(...e){return(0,a.m6)((0,r.W)(e))}},8765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6449).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8824:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6449).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8406:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6449).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},1755:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6449).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6610:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6449).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2522:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6449).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},8201:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6449).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[787,678,432,80,598,181,417,637,258],()=>s(932));module.exports=r})();